<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Connections</title>
    <link rel="stylesheet" href="styles/universal.css">
    <link rel="stylesheet" href="styles/index.css">
    <script src="
    https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js
    "></script>
  </head>
  <body>

  <div class="container" >
    <form >
    <div class="box">
      
      <p style="text-align: center; font-size: 1.5rem"><b>Connections</b></p>
      <input type="text" id="email" placeholder="Email"/>
      <input type="password" id="password" placeholder="Password"/>
      <div style="height: 100%; display: flex;  flex-direction: column;justify-content: flex-end;">
        <input type="submit" class="button" id="button" value="Login">
        <p style="margin-top: 5px;">Don't have an account? <a href="/signup">Create Account</a></p>
      </div>
    
    </div>
    </form>
  </div>

 
  
  <script type="module">
    
    import { login, returnUser } from "./scripts/fire.js";

    document.querySelector("form")
      .addEventListener("submit", async event => {
        event.preventDefault();
        const email = document.querySelector("#email").value;
        const user = await returnUser(email);
        if (user === undefined) {
          alert("Invalid email");
          return;
        }
        const password = document.querySelector("#password").value;
        if (user.password != password) {
          alert("Invalid password");
          return;
        }

        Cookies.set("email", email);
        window.location.href = "/connections";

    });

  </script>
  </body>
  
</html>
